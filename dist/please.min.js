!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.please=t(e)}(this,function(e){"use strict";var t={},r=function(e){var t;try{t=JSON.parse(e.responseText)}catch(r){t=e.responseText}return{data:t,request:e}},o=function(t,o,n,s){var i,a={fileForm:s.fileForm||!1,promise:s.promise||!1,success:s.success||function(){},error:s.error||function(){},loadstart:s.loadstart||function(){},progress:s.progress||function(){},load:s.load||function(){}};if(a.fileForm&&"string"==typeof n){var d=document.createElement("iframe");i={readyState:!1,status:!1,onload:function(){},onerror:function(){},send:function(){d.style.display="none",d.name=d.id="iframe"+Math.ceil(1e5*Math.random()).toString(),document.body.appendChild(d),d.addEventListener("load",function(){var e=this.responseText=d.contentDocument.body.innerHTML;e.toString().match(/^20\d\b/)?(this.readyState=4,this.status=200,a.success(),this.onload()):(a.error(),this.onerror()),document.body.removeChild(d),a.fileForm.action=a.fileForm.action.slice(a.fileForm.action.search(/\?ie9/),4)}.bind(this)),a.fileForm.action.search(/\?ie9/)<0&&(a.fileForm.action=a.fileForm.action?a.fileForm.action+"?ie9":"?ie9"),a.fileForm.target=d.id,a.fileForm.submit(),a.loadstart()}}}else{var c=e.XMLHttpRequest||ActiveXObject;i=new c("MSXML2.XMLHTTP.3.0"),i.open(t,o,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),"string"==typeof n&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.upload&&(i.upload.addEventListener("loadstart",a.loadstart,!1),i.upload.addEventListener("progress",a.progress,!1),i.upload.addEventListener("load",a.load,!1)),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?a.success(r(i)):a.error(r(i)))}}return e.Promise&&a.promise?new Promise(function(e,t){i.onload=function(){200==i.status?e(i.response):t(Error(i.statusText))},i.onerror=function(){t(Error("Network Error"))},i.send(n)}):(i.send(n),i)};return t.get=function(e,t){var r=t||{};return o("GET",e,!1,r)},t.put=function(e,t,r){var n=r||{};return o("PUT",e,t,n)},t.post=function(e,t,r){var n=r||{};return o("POST",e,t,n)},t.del=t["delete"]=function(e,t){var r=t||{};return o("DELETE",e,!1,r)},t});